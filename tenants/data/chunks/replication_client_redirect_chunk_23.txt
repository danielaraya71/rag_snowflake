_to_accounts        | connection_url                            | organization_name | account_locator   |
|--------------------+-------------------------------+---------------------+-------------------+-----------------+---------------+-------------------------------+-------------------------------------+-------------------------------------------+-------------------+-------------------|
| AWS_US_WEST_2      | 2023-07-05 08:57:11.143 -0700 | MYORG.MYACCOUNT1    | MYCONNECTION      | NULL            | true          | MYORG.MYACCOUNT1.MYCONNECTION | MYORG.MYACCOUNT2, MYORG.MYACCOUNT3  | myorg-myconnection.snowflakecomputing.com | MYORG             | MYACCOUNTLOCATOR1 |
| AWS_US_EAST_1      | 2023-07-08 09:15:11.143 -0700 | MYORG.MYACCOUNT2    | MYCONNECTION      | NULL            | false         | MYORG.MYACCOUNT1.MYCONNECTION | MYORG.MYACCOUNT2, MYORG.MYACCOUNT3  | myorg-myconnection.snowflakecomputing.com | MYORG             | MYACCOUNTLOCATOR1 |
|--------------------+-------------------------------+---------------------+-------------------+-----------------+---------------+-------------------------------+-------------------------------------+-------------------------------------------+-------------------+-------------------|
Verify the connection URL used by your users
Â¶
Query the
LOGIN_HISTORY , LOGIN_HISTORY_BY_USER
family of table functions to view the login activity for your users within the last
7 days. The output indicates which users and Snowflake clients have been using a connection URL. The REPORTED_CLIENT_TYPE and
REPORTED_CLIENT_VERSION columns display the client and version used for each connection to Snowflake, and the CONNECTION column displays
the connection URL used, if any.
Note
If a client authenticates through an identity provider (IdP) that is configured with the account URL rather than the connection URL, the
IdP directs the client to the account URL after authentication is complete. The CONNECTION column for this login event is NULL. See
Authentication and Client Redirect
(in this topic).
For example, retrieve up to 100 login events of every user your current role is allowed to monitor in the last 72 hours:
SELECT
event_timestamp
,
user_name
,
client_ip
,
reported_client_type
,
is_success
,
connection
FROM
TABLE
(
INFORMATION_SCHEMA
.
LOGIN_HISTORY
(
DATEADD
(
'HOURS