ROLE
my_replication_role
;
Copy
Execute the refresh statement using a role with the REPLICATE privilege:
USE
ROLE
my_replication_role
;
ALTER
FAILOVER
GROUP
myfg
REFRESH
;
Copy
Create a role with the FAILOVER privilege on the failover group. This step is
optional
.
Execute in the target account using a role with the OWNERSHIP privilege on the failover group:
GRANT
FAILOVER
ON
FAILOVER
GROUP
myfg
TO
ROLE
my_failover_role
;;
Copy
Replicating account objects and databases
¶
The instructions in this section explain how to prepare your accounts for replication, enable the replication of specific objects from the
source account to the target account, and synchronize the objects in the target account.
Important
Target accounts do not have Tri-Secret Secure or private connectivity to the Snowflake service, such as
AWS PrivateLink
, enabled by default. If you require Tri-Secret Secure or private
connectivity to the Snowflake service for compliance, security or other purposes, it is your responsibility to configure and enable
those features in the target account.
Prerequisite: Enable replication for accounts in the organization
¶
The organization administrator must enable replication for the source and target accounts.
To enable replication for accounts, an
organization administrator
uses the
SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER
function to set the
ENABLE_ACCOUNT_DATABASE_REPLICATION
parameter to
true
.
As an organization administrator
, enable replication for each source and target account in your organization.
-- View the list of the accounts in your organization
-- Note the organization name and account name for each account for which you are enabling replication
SHOW
ACCOUNTS
;
-- Enable replication by executing this statement for each source and target account in your organization
SELECT
SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER
(
'<organization_name>.<account_name>'
,
'ENABLE_ACCOUNT_DATABASE_REPLICATION'
,
'true'
);
Copy
Though the SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER function supports the legacy
account locator
identifier,
it causes unexpected results when an organization has multiple accounts that share the same locator (in different regions).
Step 1: Create a role with the CREATE FAILOVER GROUP privilege in the source account —
Optional
¶
Create a role and grant it the CREATE FAILOVER GROUP privilege. This step is optional.