Failing over account objects
¶
Business Critical Feature
This features requires Business Critical Edition (or higher). To inquire about upgrading, please
contact
Snowflake Support
.
This topic describes the steps necessary to fail over replicated account objects across multiple accounts in different
regions
for disaster recovery.
For information about the purpose of the failover mechanism and when to use it, see
Introduction to business continuity & disaster recovery
.
Prerequisites
¶
Enable replication in a set of accounts within the same organization, across multiple regions in one cloud service provider
or across different cloud service providers.
Create a primary failover group that defines the kinds of objects to replicate, and specifies the target accounts
to which to replicate. You can optionally divide the replicated objects across multiple failover groups, for example if
some databases should be replicated more frequently than others.
Create at least one secondary failover group (replica) of each primary failover group in one or more secondary accounts.
Refresh (synchronize) each replica with the latest updates to the objects in the failover group. Perform an
initial refresh, and set up a schedule to regularly bring the latest changes to each secondary account.
For instructions, see
Replicating account objects and databases
.
Promote a target account to serve as the source account
¶
You can promote a target account to serve as the source account (failover) using Snowsight or
SQL
.
For more information about the kinds of objects you can specify in a failover group,
see
Replication groups and failover groups
.
Promote a target account to serve as the source account using Snowsight
¶
Note
Only account administrators can edit a replication or failover group using Snowsight (see
Limitations of using Snowsight for replication configuration
).
For the most consistent and reliable failover experience, select all the applicable failover groups and
connections and promote them all at the same time. We refer to this operation as a
bulk failover
.
To promote a target account to serve as the source account using Snowsight, follow these steps:
Sign in to
Snowsight
.
Make sure to sign in using the target account
.
In the navigation menu, select
Admin
»
Accounts
.
Select
Replication
, then select
Initiate failover
. Doing so brings up a dialog where you make the remaining choices.
Select any failover groups