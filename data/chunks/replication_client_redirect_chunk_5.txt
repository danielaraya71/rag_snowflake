
CONNECTION
myconnection
ENABLE
FAILOVER
TO
ACCOUNTS
myorg
.
myaccount2
,
myorg
.
myaccount3
;
Copy
Execute the
SHOW CONNECTIONS
command to view the details for the connection.
SHOW
CONNECTIONS
;
+
--------------------+-------------------------------+---------------------+-------------------+-----------------+---------------+-------------------------------+-------------------------------------+-------------------------------------------+-------------------+-------------------+
| snowflake_region   | created_on                    | account_name        | name              | comment         | is_primary    | primary                       | failover_allowed_to_accounts        | connection_url                            | organization_name | account_locator   |
|--------------------+-------------------------------+---------------------+-------------------+-----------------+---------------+-------------------------------+-------------------------------------+-------------------------------------------+-------------------+-------------------|
| AWS_US_WEST_2      | 2020-07-19 14:49:11.183 -0700 | MYORG.MYACCOUNT1    | MYCONNECTION      | NULL            | true          | MYORG.MYACCOUNT1.MYCONNECTION | MYORG.MYACCOUNT2, MYORG.MYACCOUNT3  | myorg-myconnection.snowflakecomputing.com | MYORG             | MYACCOUNTLOCATOR1 |
+
--------------------+-------------------------------+---------------------+-------------------+-----------------+---------------+-------------------------------+-------------------------------------+-------------------------------------------+-------------------+-------------------+
Copy
Create a secondary connection in each target account
¶
Create a secondary connection in one or more accounts, linked to a primary connection using
CREATE CONNECTION … AS REPLICA OF
. Note that you can only create a secondary connection in
an account specified in the ALTER CONNECTION … ENABLE FAILOVER TO ACCOUNTS statement in
Create a Primary Connection
.
Execute a CREATE CONNECTION … AS REPLICA OF statement in each target account to create a replica of the specified primary connection.
Important
Each secondary connection
must
have the same name as its primary connection. The connection name is included in the connection
URL.
Execute the SQL statements in this section in the
target
account where you want to create a secondary connection.
Note
Only a user with the ACCOUNTADMIN role can execute the SQL commands in this section.
Execute the SHOW CONNECTIONS command to view all connections. Copy the value of the
primary
column for the primary connection.
You will use this value when creating the secondary connection